<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akça ERP v25.0 | Tam Sürüm</title>
    
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Outfit', sans-serif; background: #0f172a; color: #e2e8f0; overflow: hidden; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 10px; }
        .glass-sidebar { background: rgba(15, 23, 42, 0.95); border-right: 1px solid rgba(255, 255, 255, 0.05); }
        .glass-panel { background: rgba(30, 41, 59, 0.6); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.08); }
        .fade-in { animation: fadeIn 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .input-dark { background: #1e293b; border: 1px solid #334155; color: white; padding: 10px; border-radius: 8px; width: 100%; outline: none; transition: 0.2s; }
        .input-dark:focus { border-color: #3b82f6; ring: 2px solid #3b82f6; }
        .btn { padding: 8px 16px; border-radius: 8px; font-weight: 600; transition: 0.2s; cursor: pointer; display: inline-flex; items-center; justify-content: center; gap: 8px; }
        .btn-primary { background: #2563eb; color: white; } .btn-primary:hover { background: #1d4ed8; }
        .btn-success { background: #059669; color: white; } .btn-success:hover { background: #047857; }
        .badge-bilanco { background: rgba(16, 185, 129, 0.15); color: #34d399; border: 1px solid rgba(16, 185, 129, 0.4); padding: 4px 8px; border-radius: 6px; font-size: 10px; font-weight: 800; letter-spacing: 0.5px; box-shadow: 0 0 10px rgba(16, 185, 129, 0.1); display: inline-block; min-width: 70px; text-align: center; }
        .badge-isletme { background: rgba(59, 130, 246, 0.15); color: #60a5fa; border: 1px solid rgba(59, 130, 246, 0.4); padding: 4px 8px; border-radius: 6px; font-size: 10px; font-weight: 700; display: inline-block; min-width: 70px; text-align: center; }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        const SISTEM_SIFRESI = "1453"; 

        const INITIAL_PERSONEL = [
            { id: 1, ad: "ÖZLEM", unvan: "S.M.M.M", tel: "905XXXXXXXXX", maas: 35000, sgk: 6000, yemek: 5000, vergi: 2000, diger: 0 },
            { id: 2, ad: "TUĞÇE TETİK", unvan: "S.M.M.M", tel: "905XXXXXXXXX", maas: 35000, sgk: 6000, yemek: 5000, vergi: 2000, diger: 0 },
            { id: 3, ad: "ÖMER", unvan: "Kıdemli Uzman", tel: "905XXXXXXXXX", maas: 30000, sgk: 5500, yemek: 5000, vergi: 1500, diger: 0 },
            { id: 4, ad: "ASLI", unvan: "Uzman", tel: "905XXXXXXXXX", maas: 28000, sgk: 5000, yemek: 5000, vergi: 1200, diger: 0 },
            { id: 5, ad: "TUĞÇE KUTLU", unvan: "Uzman Yrd.", tel: "905XXXXXXXXX", maas: 25000, sgk: 4500, yemek: 5000, vergi: 1000, diger: 0 },
            { id: 6, ad: "EREN", unvan: "Personel", tel: "905XXXXXXXXX", maas: 25000, sgk: 4000, yemek: 4000, vergi: 1000, diger: 0 },
            { id: 7, ad: "HALİL AKÇA", unvan: "Yönetici", tel: "905XXXXXXXXX", maas: 0, sgk: 0, yemek: 0, vergi: 0, diger: 0 }
        ];

        // 230 MÜKELLEFİN TAM LİSTESİ (Database)
        const FULL_DATA = [
            {"id":1,"unvan":"18 Mart Özel Güvenlik Ve Eğitim Hiz. Tic. Ltd. Şti.","tel":"05419353101","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":14500},
            {"id":2,"unvan":"1915 Çanakkale Transport Nakliyat","tel":"05448602914","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":0},
            {"id":3,"unvan":"Abdulkadir Ceylan","tel":"05394831765","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":3300},
            {"id":4,"unvan":"Ali Baki USTA","tel":"05334164524","defter":"ÖZEL BİNA İNŞAATI","temsilci":"ASLI","aylikUcret":4000},
            {"id":5,"unvan":"Ahmet Çelik","tel":"05366407632","defter":"BASİT USUL","temsilci":"ASLI","aylikUcret":3300},
            {"id":6,"unvan":"Ahmet Eker","tel":"05455433041","defter":"GÖNDER","temsilci":"ÖMER","aylikUcret":3000},
            {"id":7,"unvan":"Ahmet Öner","tel":"05535041774","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":6000},
            {"id":8,"unvan":"Ainos Şarapçılık Turz. San. Ve Tic. A. Ş.","tel":"05327309221","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":10000},
            {"id":9,"unvan":"Altıüstü Organizasyon Moda Tasarım Tic Ltd Şti","tel":"05464788173","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":4500},
            {"id":10,"unvan":"Angeliki Muhali","tel":"05312178249","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":17500},
            {"id":11,"unvan":"Ar Oto-Ali Tırnak Ve Rahim Meriç","tel":"05423519457","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":6000},
            {"id":12,"unvan":"Areti Sozo Kostalas","tel":"05302502737","defter":"İŞLETME","temsilci":"EREN","aylikUcret":3000},
            {"id":13,"unvan":"Areto Turizm Otelcilik","tel":"05302502737","defter":"BILANÇO","temsilci":"EREN","aylikUcret":13000},
            {"id":14,"unvan":"Arslan Gıda Pazarlama","tel":"05334916801","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":40000},
            {"id":15,"unvan":"Arzu Güleğlen","tel":"05324579556","defter":"NAN","temsilci":"EREN","aylikUcret":7000},
            {"id":16,"unvan":"As-Il Tekstil İnşaat","tel":"05322303033","defter":"BILANÇO","temsilci":"EREN","aylikUcret":16000},
            {"id":17,"unvan":"Aslı Gizem Garip","tel":"05557629762","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":2000},
            {"id":18,"unvan":"Asmas Organik Tarım","tel":"05322823110","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":10000},
            {"id":19,"unvan":"Ayhan Çınar","tel":"05435400288","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":3300},
            {"id":20,"unvan":"Ayhan Mengüş","tel":"05322830950","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":20000},
            {"id":21,"unvan":"Aynur Kutlu","tel":"05058747718","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":22,"unvan":"Aysel Güven","tel":"05432082576","defter":"İŞLETME","temsilci":"ÖZLEM","aylikUcret":3000},
            {"id":23,"unvan":"Aytaç Yılmaz","tel":"05445385691","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3000},
            {"id":24,"unvan":"Aytuğ Şah Gıda Pazl.","tel":"05373725795","defter":"BILANÇO","temsilci":"EREN","aylikUcret":10000},
            {"id":25,"unvan":"Barış Koç","tel":"05330276543","defter":"KAPATCAZ","temsilci":"ASLI","aylikUcret":3300},
            {"id":26,"unvan":"Bbk Tarım Anonim Şirketi","tel":"05322771137","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":17000},
            {"id":27,"unvan":"Bernis Harita Mimarlık","tel":"05324509908","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":10000},
            {"id":28,"unvan":"Biga Demir Enerji","tel":"05380100777","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":20000},
            {"id":29,"unvan":"Bigfoot Kafeterya Ltd Şti","tel":"05369311982","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":12500},
            {"id":30,"unvan":"Birsen Ergün","tel":"05322919323","defter":"BILANÇO","temsilci":"EREN","aylikUcret":7000},
            {"id":31,"unvan":"Boğaz Cy Planlama","tel":"05466934871","defter":"BILANÇO","temsilci":"EREN","aylikUcret":10000},
            {"id":32,"unvan":"Borcars Gayrimenkul Otomotiv","tel":"05300609127","defter":"BILANÇO","temsilci":"EREN","aylikUcret":12500},
            {"id":33,"unvan":"Byz Dağcılık Enerji","tel":"05380100777","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":10000},
            {"id":34,"unvan":"Ç. Kale Ser-Tur Peyzaözel","tel":"05309736121","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":15000},
            {"id":35,"unvan":"Çanakkale Akıncı Özel Güvenlik","tel":"05056682793","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":10000},
            {"id":36,"unvan":"Çanakkale Dlybnb Medya","tel":"05370276205","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":5000},
            {"id":37,"unvan":"Çanakkale Yıldız Dental Park","tel":"05077391498","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":14000},
            {"id":38,"unvan":"Canan Yüksek","tel":"05438708232","defter":"İŞLETME","temsilci":"EREN","aylikUcret":2500},
            {"id":39,"unvan":"Cemil Basri Hınıslıoğlu","tel":"05367006120","defter":"İŞLETME","temsilci":"ÖZLEM","aylikUcret":3000},
            {"id":40,"unvan":"Cemil Yılmaz","tel":"05526167064","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":2500},
            {"id":41,"unvan":"Cenk Kuru","tel":"05325710438","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":8000},
            {"id":42,"unvan":"Çiçek Canöz","tel":"05412134564","defter":"KAPATYCAZ","temsilci":"EREN","aylikUcret":3300},
            {"id":43,"unvan":"Cihan Çetinkaya","tel":"05423148939","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":3000},
            {"id":44,"unvan":"Dabakoğlu Gıda İnşaat","tel":"05375943696","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":10000},
            {"id":45,"unvan":"Damla Ümmü Yetkin","tel":"05079589926","defter":"İŞLETME","temsilci":"EREN","aylikUcret":2500},
            {"id":46,"unvan":"Dardanel Troya Özel Güvenlik","tel":"05438155198","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":0},
            {"id":47,"unvan":"Dardanel Vip Özel Güv.","tel":"05438155198","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":0},
            {"id":48,"unvan":"Dedeoğlu Motorlu Araçlar","tel":"05322922457","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":12500},
            {"id":49,"unvan":"Demiralp Üretim Gayrimenkul","tel":"05337400537","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":9000},
            {"id":50,"unvan":"Doğa Dabakoğlu","tel":"05425462429","defter":"İŞLETME","temsilci":"EREN","aylikUcret":3000},
            {"id":51,"unvan":"Ebru Meraklı","tel":"05436140121","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":8000},
            {"id":52,"unvan":"Elçin Aydın","tel":"05512585443","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":9000},
            {"id":53,"unvan":"Elif Karagöz","tel":"05533179815","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":54,"unvan":"Elixir Sağlık Turizm","tel":"05445304051","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":0},
            {"id":55,"unvan":"Emir Can Temizlik Hiz.","tel":"05324190450","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":12000},
            {"id":56,"unvan":"Eniz Akarsu","tel":"05309250617","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3300},
            {"id":57,"unvan":"Ersin Yılmazer","tel":"05322184110","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":8333},
            {"id":58,"unvan":"Ertan Özgür","tel":"05327309221","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":8000},
            {"id":59,"unvan":"Eskaş A. Ş","tel":"05384421103","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":13000},
            {"id":60,"unvan":"Esra Alıcı","tel":"05335117230","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":0},
            {"id":61,"unvan":"Etis Ekolojik Tarım","tel":"05322823110","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":13500},
            {"id":62,"unvan":"Fahretin Gülperen","tel":"05365836747","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":3000},
            {"id":63,"unvan":"Fahrettin Umay","tel":"05553225693","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":3000},
            {"id":64,"unvan":"Fatih Abat","tel":"05065376544","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":65,"unvan":"Feder Kuyumculuk İnşaat","tel":"05324628232","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":9000},
            {"id":66,"unvan":"Ferman Ötü","tel":"05079978219","defter":"BILANÇO","temsilci":"EREN","aylikUcret":0},
            {"id":67,"unvan":"Fuzy Gıda İşletmeciliği","tel":"05336073894","defter":"BILANÇO","temsilci":"EREN","aylikUcret":13500},
            {"id":68,"unvan":"Gencay Turan","tel":"05445066988","defter":"İŞLETME","temsilci":"EREN","aylikUcret":3000},
            {"id":69,"unvan":"Gizem Yıllar Adalı","tel":"05388414384","defter":"GİDECEK","temsilci":"TUĞÇE TETİK","aylikUcret":10000},
            {"id":70,"unvan":"Gökçe Demiralp","tel":"05337400537","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3000},
            {"id":71,"unvan":"Gökmen Doğan","tel":"05359518599","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":3000},
            {"id":72,"unvan":"Güçlüler Teks. Orm. Ür.","tel":"05323715419","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":0},
            {"id":73,"unvan":"Gülce Kılıçlar","tel":"05342914807","defter":"KAPANACAK","temsilci":"ÖMER","aylikUcret":3000},
            {"id":74,"unvan":"Gülfer Erdem","tel":"05456769387","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":3000},
            {"id":75,"unvan":"Güngör Altundal","tel":"05367011749","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":7000},
            {"id":76,"unvan":"Gürkan Karalı","tel":"05453302629","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":2500},
            {"id":77,"unvan":"Gürsoy Petrol İnş.","tel":"05322433164","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":20000},
            {"id":78,"unvan":"Halil İbrahim Bozkurt","tel":"05438065243","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":8000},
            {"id":79,"unvan":"Halil Kılınç","tel":"05365613944","defter":"BASİT OLACAK","temsilci":"ASLI","aylikUcret":3000},
            {"id":80,"unvan":"Haluk Balcı","tel":"05542987485","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":81,"unvan":"Hamiyet Arabacı","tel":"05444573826","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":2500},
            {"id":82,"unvan":"Hasan Küçük","tel":"05416438747","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":3000},
            {"id":83,"unvan":"Hasan Pınarcıoğlu","tel":"05380572236","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":3300},
            {"id":84,"unvan":"Hasan Şahin","tel":"05011343096","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":5000},
            {"id":85,"unvan":"Hilmi Kırtık","tel":"05393238219","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":0},
            {"id":86,"unvan":"Hira Med İnşaat","tel":"05327223790","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":12500},
            {"id":87,"unvan":"İbrahim Demir","tel":"05428937491","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":6500},
            {"id":88,"unvan":"İbrahim Koçoğlu İnşaat","tel":"05321654793","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":10000},
            {"id":89,"unvan":"İhsan Atay","tel":"05353388926","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3000},
            {"id":90,"unvan":"İkizler Gurup Mad.","tel":"05457979745","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":0},
            {"id":91,"unvan":"İlker Taş","tel":"05079344436","defter":"BILANÇO","temsilci":"EREN","aylikUcret":0},
            {"id":92,"unvan":"İrem Atar","tel":"05532243048","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":3000},
            {"id":93,"unvan":"İsmail Kaya","tel":"05443513081","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":2000},
            {"id":94,"unvan":"Kalpak Tarım A.Ş.","tel":"05322771137","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":21000},
            {"id":95,"unvan":"Kemal Ateş","tel":"05418742178","defter":"BILANÇO","temsilci":"EREN","aylikUcret":10000},
            {"id":96,"unvan":"Keten Grup Mağazacılık","tel":"05322303033","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":0},
            {"id":97,"unvan":"Kocasoy İnşaat","tel":"05327792604","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":0},
            {"id":98,"unvan":"Kocasoylar Grup","tel":"05327792604","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":0},
            {"id":99,"unvan":"Koçoğlu Yapı Elemanları","tel":"05321654793","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":12000},
            {"id":100,"unvan":"Koçoğulları Eğitim Sağlık","tel":"05384421103","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":10000},
            {"id":101,"unvan":"Koçyiğit Restoran","tel":"05334246561","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":10000},
            {"id":102,"unvan":"Koruköy Konaklama","tel":"05323224404","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":0},
            {"id":103,"unvan":"Kubilay Yıldız","tel":"05522909320","defter":"GÖNDER","temsilci":"ASLI","aylikUcret":3000},
            {"id":104,"unvan":"Kübra Kılınç","tel":"05320649112","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":8000},
            {"id":105,"unvan":"Kuvvet Özel Tarım","tel":"05462771840","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":0},
            {"id":106,"unvan":"Kuzeybatı Turizm","tel":"05334164524","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":10000},
            {"id":107,"unvan":"Lasersan Lazer","tel":"05464506703","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":10000},
            {"id":108,"unvan":"Livestetic Güzellik","tel":"05464506703","defter":"BILANÇO","temsilci":"EREN","aylikUcret":12500},
            {"id":109,"unvan":"M Sıddık Yeler","tel":"05336434296","defter":"GÖNDER","temsilci":"ÖMER","aylikUcret":0},
            {"id":110,"unvan":"Mayadağ İçecek","tel":"05334916801","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":0},
            {"id":111,"unvan":"Mehmet Berkay Polat","tel":"05422709017","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":4000},
            {"id":112,"unvan":"Mehmet Dilber","tel":"05529270241","defter":"BILANÇO","temsilci":"EREN","aylikUcret":3300},
            {"id":113,"unvan":"Mehmet Emin Altunbaş","tel":"05322277756","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":10000},
            {"id":114,"unvan":"Mehmet Engin","tel":"05382585354","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":10000},
            {"id":115,"unvan":"Mehmet Şahin","tel":"05373725795","defter":"İŞLETME","temsilci":"EREN","aylikUcret":2750},
            {"id":116,"unvan":"Melih Can Uzun","tel":"05344114555","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":117,"unvan":"Merve Akgül","tel":"05437131866","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":3000},
            {"id":118,"unvan":"Metal Güven Demir","tel":"05393238219","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":50000},
            {"id":119,"unvan":"Mete Şahin","tel":"05439293843","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":2750},
            {"id":120,"unvan":"Metin Ünal","tel":"05427262284","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":15000},
            {"id":121,"unvan":"Metin Ünal Taşımacılık","tel":"05427262284","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":0},
            {"id":122,"unvan":"Mevlüt Baran","tel":"05427802074","defter":"İŞLETME","temsilci":"EREN","aylikUcret":2750},
            {"id":123,"unvan":"Mine Tuban","tel":"05539775599","defter":"İŞLETME","temsilci":"ÖZLEM","aylikUcret":2500},
            {"id":124,"unvan":"Mısra Pancaroğlu","tel":"05073854112","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3000},
            {"id":125,"unvan":"Muhammed Emre Coşkun","tel":"05413420800","defter":"GİTTİ","temsilci":"EREN","aylikUcret":0},
            {"id":126,"unvan":"Muhammed Enes Yiğit","tel":"05442207404","defter":"GÖNDER","temsilci":"ÖMER","aylikUcret":3300},
            {"id":127,"unvan":"Muhammet Yasin Atik","tel":"05308791754","defter":"İŞLETME","temsilci":"ÖMER","aylikUcret":3000},
            {"id":128,"unvan":"Muharrem Altıntaş","tel":"05326330934","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":129,"unvan":"Murat Akburak","tel":"05417630752","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":130,"unvan":"Murat Eryılmaz","tel":"05469266674","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":131,"unvan":"Mustafa Koca","tel":"05459002090","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":132,"unvan":"Nil Estetik","tel":"05076263290","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":7000},
            {"id":133,"unvan":"Ninka Bira Ve Malt","tel":"05363511697","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":12000},
            {"id":134,"unvan":"Nisanur Kayar","tel":"05527285430","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3300},
            {"id":135,"unvan":"Nympha Organik","tel":"05322650341","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":10000},
            {"id":136,"unvan":"Obuz Gıda","tel":"05336073894","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":15000},
            {"id":137,"unvan":"Özak Zeytincilik","tel":"05325271220","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":10000},
            {"id":138,"unvan":"Özel Anafartalar Sür. Kursu","tel":"05055427793","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":8000},
            {"id":139,"unvan":"Özel Çanakkale Deha","tel":"05380100777","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":10000},
            {"id":140,"unvan":"Özlem Serdaroğlu","tel":"05422909951","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3300},
            {"id":141,"unvan":"Parion Turizm","tel":"05448602914","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":12500},
            {"id":142,"unvan":"Pastayap Gıda","tel":"05426360075","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":8500},
            {"id":143,"unvan":"Peldan İnşaat","tel":"05456037502","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":6000},
            {"id":144,"unvan":"Pelin Gözütok Utgu","tel":"05442912840","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3000},
            {"id":145,"unvan":"Plas İnşaat","tel":"05324986620","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":6000},
            {"id":146,"unvan":"Polar Spa İnşaat","tel":"05327494464","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":8000},
            {"id":147,"unvan":"Pozitif 20 Özel Güvenlik","tel":"05438155198","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":8000},
            {"id":148,"unvan":"Proaktif Yedek Parça","tel":"05466752936","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":7000},
            {"id":149,"unvan":"Raf17 Reklam","tel":"05380100777","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":5000},
            {"id":150,"unvan":"Rahime Gök","tel":"05363300059","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":151,"unvan":"Rıfkı Yasaç","tel":"05442881322","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":152,"unvan":"Şahika Organik Ürünler","tel":"05326330934","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":7000},
            {"id":153,"unvan":"Şans Dondurmaları","tel":"05335496969","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":12000},
            {"id":154,"unvan":"Şarköy Arslan Dayanıklı Tüketim","tel":"05334916801","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":8000},
            {"id":155,"unvan":"Şarköy Mila Çiftliği","tel":"05316411907","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":10000},
            {"id":156,"unvan":"Seler Alkollü İçecekler","tel":"05308509359","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":12000},
            {"id":157,"unvan":"Serkan Gönültaş","tel":"05327098853","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":6000},
            {"id":158,"unvan":"Serkan Gönültaş Otomotiv","tel":"05327098853","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":8000},
            {"id":159,"unvan":"Serkan Gültekin","tel":"05453973280","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3300},
            {"id":160,"unvan":"Sezida Gıda","tel":"05437106315","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":7000},
            {"id":161,"unvan":"Sibel Demir","tel":"05013616337","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3300},
            {"id":162,"unvan":"Simay Betül Yıldız","tel":"05537050834","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3000},
            {"id":163,"unvan":"Sinem Arabacıbaşı 2025","tel":"05336600899","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3300},
            {"id":164,"unvan":"Su-Ser Bulut Un San.","tel":"05438730058","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":10000},
            {"id":165,"unvan":"Suat Berber","tel":"05426360075","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3300},
            {"id":166,"unvan":"Tan Özel Sağlık","tel":"05323224404","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":10000},
            {"id":167,"unvan":"Tanem İnşaat","tel":"05321654793","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":6000},
            {"id":168,"unvan":"Tasarım Mutfak","tel":"05336565797","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3300},
            {"id":169,"unvan":"Taşçıoğulları Otomotiv","tel":"054474342917","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":8000},
            {"id":170,"unvan":"Tenedos Kozmetik","tel":"05428937491","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3300},
            {"id":171,"unvan":"Tenedos Trz. Tşm.","tel":"05444953993","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":7000},
            {"id":172,"unvan":"Tevfik Güreşçi","tel":"05339260917","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3300},
            {"id":173,"unvan":"The Piden Restoran","tel":"05422352722","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":8000},
            {"id":174,"unvan":"Tm Elektronik","tel":"05321654793","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":10000},
            {"id":175,"unvan":"Troya Pasta Ekipmanları","tel":"05522181915","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":7000},
            {"id":176,"unvan":"Tuncay Sarı Mühendislik","tel":"05423463939","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":10000},
            {"id":177,"unvan":"Ufema Yapı İnşaat","tel":"05316411907","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":6000},
            {"id":178,"unvan":"Vipro Oto Kiralama","tel":"05438155198","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":6000},
            {"id":179,"unvan":"Wens Dış Ticaret","tel":"05327494464","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":7000},
            {"id":180,"unvan":"Yasin Saraç","tel":"05339116106","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3000},
            {"id":181,"unvan":"Yener Yalım","tel":"05325120132","defter":"BILANÇO","temsilci":"TUĞÇE TETİK","aylikUcret":8500},
            {"id":182,"unvan":"Yenir Çanakkale Paz","tel":"05321654793","defter":"BILANÇO","temsilci":"TUĞÇE KUTLU","aylikUcret":8000},
            {"id":183,"unvan":"Yerel Emlak Sos.","tel":"05066000909","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3300},
            {"id":184,"unvan":"Yıldıray Aydın Gayrimenkul","tel":"05438707034","defter":"BILANÇO","temsilci":"ÖMER","aylikUcret":6000},
            {"id":185,"unvan":"Yıldıray Ölçek","tel":"05524211191","defter":"SERBEST MESLEK","temsilci":"ASLI","aylikUcret":4000},
            {"id":186,"unvan":"Yorgi Vulgarel Varisleri","tel":"05302092875","defter":"BILANÇO","temsilci":"ÖZLEM","aylikUcret":8000},
            {"id":187,"unvan":"Yücel Yurdaer","tel":"05339249774","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3300},
            {"id":188,"unvan":"Zafer Güner","tel":"05426728811","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3300},
            {"id":189,"unvan":"Zarif Biçer","tel":"05070831903","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3300},
            {"id":190,"unvan":"Zerrin Oruzbeyi","tel":"05322924076","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":3000},
            {"id":191,"unvan":"Ali Baki Usta","tel":"05334164524","defter":"ÖZEL BİNA İNŞAATI","temsilci":"ASLI","aylikUcret":4000},
            {"id":192,"unvan":"Ali Korukçu","tel":"05414330897","defter":"PASİF","temsilci":"NAN","aylikUcret":0},
            {"id":193,"unvan":"Ali Tırnak","tel":"05423519457","defter":"GİDECEK","temsilci":"EREN","aylikUcret":0},
            {"id":194,"unvan":"Ay Gyo İnşaat Enerji","tel":"05323428130","defter":"GİDECEK","temsilci":"EREN","aylikUcret":0},
            {"id":195,"unvan":"Bayram Kaptı","tel":"05378110795","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":196,"unvan":"Berke Seven","tel":"05456774893","defter":"GİTTİ","temsilci":"EREN","aylikUcret":0},
            {"id":197,"unvan":"Çanakkale Onsekiz Mart Üniversitesi","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":198,"unvan":"Çanakkale Seramik","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":199,"unvan":"Çanakkale Ticaret Ve Sanayi Odası","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":200,"unvan":"Çanakkale Ziraat Odası","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":201,"unvan":"Demircioğlu","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":202,"unvan":"Denizbank","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":203,"unvan":"Doğtaş Kelebek Mobilya","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":204,"unvan":"Ercanlar","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":205,"unvan":"Gestaş","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":206,"unvan":"Halkbank","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":207,"unvan":"İçdaş","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":208,"unvan":"Kale Grubu","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":209,"unvan":"Kaleseramik","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":210,"unvan":"Kaptanlar","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":211,"unvan":"Kepez Belediyesi","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":212,"unvan":"Miller","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":213,"unvan":"Opet","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":214,"unvan":"Süleyman Demirel","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":215,"unvan":"Tatlan","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":216,"unvan":"Troya Müzesi","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":217,"unvan":"Tuğçe Güçlü","tel":"05525971517","defter":"BILANÇO","temsilci":"ASLI","aylikUcret":0},
            {"id":218,"unvan":"Tuncay Sarı","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":219,"unvan":"Türkiye İş Bankası","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":220,"unvan":"UEDAŞ","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":221,"unvan":"Uludağ Elektrik","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":222,"unvan":"Ünzüle Gamsız","tel":"05072041978","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":3000},
            {"id":223,"unvan":"Vakıfbank","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":224,"unvan":"Yapı Kredi","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0},
            {"id":225,"unvan":"Yusuf Güneş","tel":"05443019663","defter":"İŞLETME","temsilci":"ASLI","aylikUcret":2500},
            {"id":226,"unvan":"Zafer Durmaz","tel":"05457380102","defter":"İŞLETME","temsilci":"TUĞÇE TETİK","aylikUcret":2000},
            {"id":227,"unvan":"Ziraat Bankası","tel":"","defter":"NAN","temsilci":"NAN","aylikUcret":0}
        ];

        function App() {
            const [page, setPage] = useState('login');
            const [password, setPassword] = useState("");
            const [error, setError] = useState("");

            const handleLogin = (e) => {
                e.preventDefault();
                if(password === SISTEM_SIFRESI) { setPage('dashboard'); } 
                else { setError("Hatalı Şifre!"); }
            };

            return page === 'login' ? (
                <div className="flex h-screen w-full bg-[#0f172a] items-center justify-center fade-in">
                    <div className="glass-panel p-10 rounded-3xl border border-slate-700 w-96 text-center shadow-2xl">
                        <div className="w-20 h-20 bg-blue-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg shadow-blue-600/30">
                            <i className="fas fa-lock text-3xl text-white"></i>
                        </div>
                        <h2 className="text-2xl font-bold text-white mb-2 uppercase tracking-tighter">Akça ERP v25.0</h2>
                        <form onSubmit={handleLogin} className="space-y-4">
                            <input 
                                type="password" 
                                className="w-full bg-slate-900 border border-slate-700 text-white px-4 py-3 rounded-xl focus:border-blue-500 focus:outline-none text-center tracking-widest text-lg" 
                                placeholder="••••" 
                                value={password}
                                onChange={e=>setPassword(e.target.value)}
                                autoFocus
                            />
                            {error && <p className="text-red-500 text-xs font-bold">{error}</p>}
                            <button className="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl transition shadow-lg">Yönetim Girişi</button>
                        </form>
                    </div>
                </div>
            ) : <DashboardLayout />;
        }

        function DashboardLayout() {
            const [page, setPage] = useState('dashboard');
            // Yeni anahtarlar (cache temizliği için)
            const [personel, setPersonel] = useState(() => JSON.parse(localStorage.getItem('akca_v25_final_personel')) || INITIAL_PERSONEL);
            const [mukellef, setMukellef] = useState(() => JSON.parse(localStorage.getItem('akca_v25_final_mukellef')) || FULL_DATA);
            const [isEmirleri, setIsEmirleri] = useState(() => JSON.parse(localStorage.getItem('akca_v25_final_isemirleri')) || []);
            const [gorusmeNotlari, setGorusmeNotlari] = useState(() => JSON.parse(localStorage.getItem('akca_v25_final_notlar')) || []);

            useEffect(() => {
                localStorage.setItem('akca_v25_final_personel', JSON.stringify(personel));
                localStorage.setItem('akca_v25_final_mukellef', JSON.stringify(mukellef));
                localStorage.setItem('akca_v25_final_isemirleri', JSON.stringify(isEmirleri));
                localStorage.setItem('akca_v25_final_notlar', JSON.stringify(gorusmeNotlari));
            }, [personel, mukellef, isEmirleri, gorusmeNotlari]);

            return (
                <div className="flex h-screen w-full bg-[#0f172a] text-slate-300">
                    <aside className="w-72 glass-sidebar flex flex-col z-20">
                        <div className="p-8"><h1 className="text-2xl font-black text-white tracking-tight uppercase italic">AKÇA<span className="text-blue-500">ERP</span></h1><p className="text-[10px] font-bold text-slate-500 uppercase mt-1">SMMM Vizyon v25</p></div>
                        <nav className="flex-1 px-4 space-y-1 overflow-y-auto custom-scrollbar">
                            <MenuBtn icon="fa-chart-pie" text="Genel Özet" active={page==='dashboard'} onClick={()=>setPage('dashboard')} />
                            <MenuBtn icon="fa-users" text="Mükellef Listesi" active={page==='mukellef'} onClick={()=>setPage('mukellef')} badge={mukellef.length} />
                            <MenuBtn icon="fa-tasks" text="İş Emirleri" active={page==='isemri'} onClick={()=>setPage('isemri')} badge={isEmirleri.filter(x=>!x.tamamlandi).length} />
                            <MenuBtn icon="fa-user-tie" text="Personel Takip" active={page==='personel'} onClick={()=>setPage('personel')} />
                            <MenuBtn icon="fa-shield-halved" text="Sistem Yedekleri" active={page==='yedek'} onClick={()=>setPage('yedek')} />
                        </nav>
                        <div className="p-6 border-t border-slate-800"><div className="bg-slate-900/50 p-3 rounded-xl border border-slate-800 text-center"><p className="text-[10px] font-bold text-slate-500 uppercase">Veritabanı Durumu</p><p className="text-sm font-black text-blue-500">{mukellef.length} Kayıt Aktif</p></div></div>
                    </aside>
                    <main className="flex-1 flex flex-col bg-slate-900 relative overflow-hidden">
                        <header className="h-16 border-b border-slate-800 flex items-center justify-between px-8 bg-slate-900/90 z-10 sticky top-0"><h2 className="font-bold text-white text-lg uppercase italic tracking-tighter">{page === 'isemri' ? 'İş Takip' : page}</h2><div className="flex items-center gap-4"><div className="text-right"><p className="text-xs font-bold text-white leading-none">HALİL AKÇA</p><p className="text-[10px] text-slate-500 uppercase mt-1">Yönetici Müşavir</p></div><div className="w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center text-white font-bold shadow-lg">HA</div></div></header>
                        <div className="flex-1 overflow-y-auto p-8 relative custom-scrollbar">
                            {page === 'dashboard' && <DashboardPage personel={personel} mukellef={mukellef} />}
                            {page === 'mukellef' && <MukellefPage mukellef={mukellef} personel={personel} gorusmeNotlari={gorusmeNotlari} setGorusmeNotlari={setGorusmeNotlari} />}
                            {page === 'isemri' && <IsEmriPage isEmirleri={isEmirleri} setIsEmirleri={setIsEmirleri} personel={personel} />}
                            {page === 'personel' && <PersonelPage personel={personel} setPersonel={setPersonel} mukellef={mukellef} />}
                            {page === 'yedek' && <YedekPage data={{personel, mukellef, isEmirleri, gorusmeNotlari}} setData={(d)=>{setPersonel(d.personel);setMukellef(d.mukellef);setIsEmirleri(d.isEmirleri);setGorusmeNotlari(d.gorusmeNotlari)}} />}
                        </div>
                    </main>
                </div>
            );
        }

        // --- DASHBOARD ---
        function DashboardPage({ personel, mukellef }) {
            const toplamCiro = mukellef.reduce((a,b)=>a+(b.aylikUcret || 0), 0);
            return (
                <div className="space-y-6 fade-in">
                    <div className="grid grid-cols-1 md:grid-cols-4 gap-6">
                        <StatCard title="Toplam Portföy" val={mukellef.length} icon="fa-building" color="text-blue-500" />
                        <StatCard title="Aylık Ciro" val={`${toplamCiro.toLocaleString()} ₺`} icon="fa-file-invoice-dollar" color="text-emerald-500" />
                        <StatCard title="Personel" val={personel.length} icon="fa-user-tie" color="text-purple-500" />
                        <StatCard title="Bilanço Sayısı" val={mukellef.filter(m=>m.defter==='BILANÇO').length} icon="fa-book" color="text-orange-500" />
                    </div>
                    <div className="glass-panel p-8 rounded-3xl border border-white/5"><h3 className="text-xl font-bold text-white mb-6 uppercase italic tracking-tighter">Hoşgeldiniz Halil Bey</h3><p className="text-slate-400">Ofisinizdeki {mukellef.length} mükellef ve {personel.length} personel için tüm süreçler kontrolünüz altında. Aşağıdaki menülerden iş emirlerini yönetebilir veya mükellef görüşmelerini takip edebilirsiniz.</p></div>
                </div>
            )
        }

        // --- MÜKELLEF & CRM (LİSTE OPTİMİZASYONU) ---
        function MukellefPage({ mukellef, personel, gorusmeNotlari, setGorusmeNotlari }) {
            const [search, setSearch] = useState("");
            const [activeM, setActiveM] = useState(null);
            const [yeniNot, setYeniNot] = useState("");

            const filtered = mukellef.filter(m => m.unvan.toLowerCase().includes(search.toLowerCase()));

            const addNot = () => {
                if(!yeniNot) return;
                const note = { mId: activeM.id, metin: yeniNot, tarih: new Date().toLocaleString() };
                setGorusmeNotlari([note, ...gorusmeNotlari]);
                setYeniNot("");
            };

            return (
                <div className="space-y-6 fade-in">
                    <div className="flex gap-4 items-center">
                        <input className="input-dark flex-1 shadow-inner" placeholder="Mükellef Ünvanı Ara..." value={search} onChange={e=>setSearch(e.target.value)} />
                    </div>

                    <div className="glass-panel rounded-3xl overflow-hidden border border-slate-700 shadow-2xl">
                        <table className="w-full text-left text-sm">
                            <thead className="bg-slate-900/80 text-slate-500 font-bold uppercase sticky top-0 backdrop-blur-md">
                                <tr>
                                    <th className="p-5">Tip</th>
                                    <th className="p-5">Firma Ünvanı</th>
                                    <th className="p-5">Temsilci</th>
                                    <th className="p-5 text-right">Ücret</th>
                                    <th className="p-5 text-center">İletişim/CRM</th>
                                </tr>
                            </thead>
                            <tbody className="divide-y divide-slate-800/50">
                                {filtered.map(m => (
                                    <tr key={m.id} className="hover:bg-blue-600/5 transition-colors group">
                                        <td className="p-5"><span className={m.defter === 'BILANÇO' ? 'badge-bilanco' : 'badge-isletme'}>{m.defter === 'BILANÇO' ? 'BİLANÇO' : 'İŞLETME'}</span></td>
                                        <td className="p-5 font-bold text-white group-hover:text-blue-400 truncate max-w-xs">{m.unvan}</td>
                                        <td className="p-5 text-[10px] font-bold text-slate-500">{m.temsilci}</td>
                                        <td className="p-5 text-right font-mono text-emerald-500 font-bold">{m.aylikUcret.toLocaleString()} ₺</td>
                                        <td className="p-5 text-center">
                                            <button onClick={() => setActiveM(m)} className="text-blue-400 hover:text-white flex items-center justify-center gap-2 mx-auto bg-slate-800 px-3 py-1 rounded-lg transition-all">
                                                <i className="fas fa-comment-dots"></i> <span className="text-[10px] font-black uppercase">Not Gir</span>
                                            </button>
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>

                    {activeM && <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4 fade-in">
                        <div className="bg-slate-800 p-8 rounded-3xl w-full max-w-2xl border border-slate-700 shadow-2xl flex flex-col h-[80vh]">
                            <div className="flex justify-between items-center mb-6">
                                <h3 className="text-xl font-bold text-white uppercase italic tracking-tighter">{activeM.unvan} - Görüşme Detayları</h3>
                                <button onClick={() => setActiveM(null)} className="text-slate-400 hover:text-white"><i className="fas fa-times text-2xl"></i></button>
                            </div>
                            <div className="flex gap-2 mb-6">
                                <input className="input-dark flex-1 border-blue-500/30" placeholder="Yüz yüze veya telefon görüşmesi detaylarını buraya işleyin..." value={yeniNot} onChange={e=>setYeniNot(e.target.value)} />
                                <button onClick={addNot} className="btn btn-primary px-8 shadow-lg shadow-blue-600/20">Kaydet</button>
                            </div>
                            <div className="flex-1 overflow-y-auto space-y-4 pr-2 custom-scrollbar">
                                {gorusmeNotlari.filter(n => n.mId === activeM.id).map((n, i) => (
                                    <div key={i} className="bg-slate-900/50 p-4 rounded-2xl border border-slate-700/50">
                                        <div className="flex justify-between text-[10px] font-bold text-slate-500 mb-2 uppercase"><span>Görüşme Kaydı</span><span>{n.tarih}</span></div>
                                        <p className="text-sm text-slate-200 italic">"{n.metin}"</p>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>}
                </div>
            )
        }

        // --- İŞ EMRİ & WHATSAPP ---
        function IsEmriPage({ isEmirleri, setIsEmirleri, personel }) {
            const [modal, setModal] = useState(null);

            const addIs = (form) => {
                const is = { ...form, id: Date.now(), olusturulmaTarih: new Date().toLocaleString(), tamamlandi: false };
                setIsEmirleri([is, ...isEmirleri]);
                setModal(null);
                
                // Halil Bey'in istediği özel WhatsApp metni
                const p = personel.find(x => x.ad === form.personelAd);
                const mesaj = `Değerli ${p.ad} ${p.unvan === 'S.M.M.M' ? 'Hanım' : 'Bey'},\n\nEkte size detayları verilen işlem ile ilgili işi hallettikten sonra bu mesaja işlemin yapıldığına dair bilgi geçmenizi rica ediyorum.\n\nİŞ KONUSU: ${form.baslik}\nDETAY: ${form.detay}`;
                window.open(`https://wa.me/${p.tel || '905XXXXXXXXX'}?text=${encodeURIComponent(mesaj)}`, '_blank');
            };

            const completeIs = (id) => {
                setIsEmirleri(isEmirleri.map(is => is.id === id ? { ...is, tamamlandi: true, kapanisTarih: new Date().toLocaleString() } : is));
            };

            return (
                <div className="space-y-6 fade-in">
                    <div className="flex justify-between items-center"><h3 className="text-xl font-bold text-white italic uppercase tracking-tighter">İş Akışı & WhatsApp Talimatları</h3><button onClick={() => setModal({ baslik: "", detay: "", personelAd: personel[0].ad })} className="btn btn-primary shadow-xl">+ Yeni İş Emri</button></div>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                        {isEmirleri.map(is => (
                            <div key={is.id} className={`glass-panel p-6 rounded-3xl border-l-4 transition-all ${is.tamamlandi ? 'border-green-500 opacity-60' : 'border-blue-500 shadow-xl'}`}>
                                <div className="flex justify-between items-start mb-2"><h4 className="font-bold text-white text-lg italic">{is.baslik}</h4><span className="text-[10px] font-bold text-slate-500">{is.olusturulmaTarih}</span></div>
                                <p className="text-sm text-slate-400 mb-4 font-medium italic">"{is.detay}"</p>
                                <div className="flex justify-between items-center border-t border-slate-800 pt-4">
                                    <div className="text-xs font-bold text-blue-400 uppercase">Sorumlu: {is.personelAd}</div>
                                    {!is.tamamlandi ? (
                                        <button onClick={() => completeIs(is.id)} className="btn-success btn text-xs shadow-md uppercase font-black">İŞ YAPILDI - KAPAT</button>
                                    ) : (
                                        <div className="text-[10px] text-green-500 font-bold italic text-right uppercase tracking-widest">KAPATILDI: {is.kapanisTarih}</div>
                                    )}
                                </div>
                            </div>
                        ))}
                    </div>
                    {modal && <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/80 p-4"><div className="bg-slate-800 p-8 rounded-3xl w-full max-w-md border border-slate-700 shadow-2xl"><h3 className="text-xl font-bold text-white mb-6 uppercase italic tracking-widest">İş Emri Oluştur</h3><div className="space-y-4"><div><label className="text-xs text-slate-500 uppercase font-bold">Kime Gönderilecek?</label><select className="input-dark w-full" value={modal.personelAd} onChange={e=>setModal({...modal, personelAd:e.target.value})}>{personel.map(p=><option key={p.id}>{p.ad}</option>)}</select></div><div><label className="text-xs text-slate-500 uppercase font-bold">İş Başlığı</label><input className="input-dark" placeholder="Örn: KDV Kontrolü" value={modal.baslik} onChange={e=>setModal({...modal, baslik:e.target.value})} /></div><div><label className="text-xs text-slate-500 uppercase font-bold">Detaylı Talimat</label><textarea rows="3" className="input-dark" placeholder="Personelin yapması gerekenleri yazın..." value={modal.detay} onChange={e=>setModal({...modal, detay:e.target.value})}></textarea></div><div className="flex gap-2 pt-4"><button onClick={() => addIs(modal)} className="btn btn-primary flex-1 shadow-lg shadow-blue-600/30">WhatsApp'tan Gönder</button><button onClick={() => setModal(null)} className="btn bg-slate-700">Vazgeç</button></div></div></div></div>}
                </div>
            );
        }

        // --- PERSONEL ---
        function PersonelPage({ personel, setPersonel, mukellef }) {
            const calculateCost = (p) => (p.maas || 0) + (p.sgk || 0) + (p.yemek || 0) + (p.vergi || 0) + (p.diger || 0);
            return (
                <div className="space-y-6 fade-in">
                    <h3 className="text-xl font-bold text-white uppercase italic tracking-tighter">Personel Kârlılık Karnesi</h3>
                    <div className="grid grid-cols-1 gap-4">
                        {personel.map(p => {
                            const pMukellef = mukellef.filter(m => m.temsilci === p.ad);
                            const ciro = pMukellef.reduce((acc, m) => acc + (m.aylikUcret || 0), 0);
                            const maliyet = calculateCost(p);
                            const kar = ciro - maliyet;
                            return (
                                <div key={p.id} className="glass-panel p-6 rounded-3xl flex flex-col md:flex-row gap-6 items-center border-l-4 shadow-xl" style={{borderLeftColor: kar > 0 ? '#10b981' : '#ef4444'}}>
                                    <div className="w-full md:w-1/4"><h4 className="font-bold text-white text-lg italic">{p.ad}</h4><p className="text-blue-400 text-[10px] uppercase font-black tracking-widest">{p.unvan}</p></div>
                                    <div className="flex-1 grid grid-cols-3 gap-2 text-center w-full">
                                        <div className="bg-slate-900/50 p-2 rounded-xl"><p className="text-[10px] text-slate-500 uppercase">Maliyet</p><p className="font-bold text-red-400">{maliyet.toLocaleString()} ₺</p></div>
                                        <div className="bg-slate-900/50 p-2 rounded-xl"><p className="text-[10px] text-slate-500 uppercase">Yönetilen Ciro</p><p className="font-bold text-blue-400">{ciro.toLocaleString()} ₺</p></div>
                                        <div className="bg-slate-900/50 p-2 rounded-xl"><p className="text-[10px] text-slate-500 uppercase">Ofis Katkısı</p><p className={`font-bold ${kar>0?'text-green-400':'text-red-500'}`}>{kar.toLocaleString()} ₺</p></div>
                                    </div>
                                    <div className="text-center bg-slate-800 px-4 py-2 rounded-xl"><p className="text-[10px] text-slate-500 uppercase">Verim</p><p className="font-black text-white italic">%{maliyet > 0 ? Math.round((ciro/maliyet)*100) : 0}</p></div>
                                </div>
                            );
                        })}
                    </div>
                </div>
            )
        }

        // --- SİSTEM YEDEK ---
        function YedekPage({ data, setData }) {
            const download = () => {
                const a = document.createElement('a');
                a.href = URL.createObjectURL(new Blob([JSON.stringify(data)], {type: "application/json"}));
                a.download = `akca_erp_yedek_${new Date().toISOString().slice(0,10)}.json`;
                a.click();
            };
            const upload = (e) => {
                const r = new FileReader();
                r.onload = (ev) => { setData(JSON.parse(ev.target.result)); alert("Verileriniz başarıyla sisteme geri yüklendi!"); };
                r.readAsText(e.target.files[0]);
            };
            return (
                <div className="grid grid-cols-2 gap-6 fade-in h-[50vh] items-center">
                    <div className="glass-panel p-16 text-center rounded-[3rem] border border-white/5 hover:bg-blue-600/10 cursor-pointer transition-all shadow-2xl" onClick={download}><i className="fas fa-file-download text-6xl text-blue-500 mb-6 shadow-xl shadow-blue-500/20"></i><h3 className="text-xl font-bold text-white uppercase italic tracking-widest">Sistem Yedeğini İndir</h3><p className="text-xs text-slate-500 mt-2 font-bold uppercase">Tüm 230 kayıt ve ayarlarınızı yedekleyin</p></div>
                    <div className="glass-panel p-16 text-center rounded-[3rem] border border-white/5 hover:bg-emerald-600/10 cursor-pointer transition-all relative shadow-2xl"><input type="file" className="absolute inset-0 opacity-0 cursor-pointer" onChange={upload} /><i className="fas fa-file-upload text-6xl text-emerald-500 mb-6 shadow-xl shadow-emerald-500/20"></i><h3 className="text-xl font-bold text-white uppercase italic tracking-widest">Yedekten Geri Yükle</h3><p className="text-xs text-slate-500 mt-2 font-bold uppercase">Dosya seçerek verilerinizi geri yükleyin</p></div>
                </div>
            )
        }

        function StatCard({ title, val, icon, color }) { return (<div className="glass-panel p-6 rounded-3xl flex justify-between items-start border border-white/5 shadow-inner"><div><p className="text-[10px] text-slate-500 uppercase font-black tracking-widest leading-none mb-1">{title}</p><h3 className="text-2xl font-black text-white italic tracking-tighter">{val}</h3></div><div className={`text-2xl ${color} shadow-sm`}><i className={`fas ${icon}`}></i></div></div>) }
        function MenuBtn({ icon, text, active, onClick, badge }) { return (<div onClick={onClick} className={`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition mb-1 border-l-4 ${active ? 'bg-blue-600 text-white border-blue-400 shadow-xl' : 'text-slate-400 hover:bg-slate-800 hover:text-white border-transparent'}`}><i className={`fas ${icon} w-6 text-center text-lg`}></i><span className="text-sm font-bold uppercase italic flex-1 tracking-tight">{text}</span>{badge > 0 && <span className="text-[10px] bg-red-600 px-2 py-0.5 rounded text-white font-black">{badge}</span>}</div>) }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
